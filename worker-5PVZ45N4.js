addEventListener("message",({data:r})=>{let e=r.cumulatedTimeLaps,u=r.driverNamesByRaceNumber,i=p(e,u);postMessage({chartData:i})});function b(r,e=1){let a=(r*.33797+.618033988749895)%1,n=.7,o=.5,s=(g,d,t)=>(t<0&&(t+=1),t>1&&(t-=1),t<1/6?g+(d-g)*6*t:t<1/2?d:t<2/3?g+(d-g)*(2/3-t)*6:g),c=o<.5?o*(1+n):o+n-o*n,l=2*o-c,f=Math.round(s(l,c,a+1/3)*255),h=Math.round(s(l,c,a)*255),m=Math.round(s(l,c,a-1/3)*255);return`rgba(${f}, ${h}, ${m}, ${e})`}function p(r,e){let u=[],i=[],a=0;r.forEach(n=>{a=Math.max(a,n.length)});for(let n=0;n<a;n++)u.push(n.toString());return r.forEach((n,o)=>{let s=b(o),c=b(o,.2),l=e.has(o)?" - "+e.get(o):"",f=o+l,h={data:n,label:f,backgroundColor:c,borderColor:s,pointBackgroundColor:s,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:s,fill:!1};i.push(h)}),{datasets:i,labels:u}}
